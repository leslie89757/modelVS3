# ModelVS3 生产环境配置
# 复制此文件为 .env 并根据您的服务器配置修改

# ===== 基础配置 =====
APP_NAME=ModelVS3
ENVIRONMENT=production
SECRET_KEY=请生成32位随机字符串
DEBUG=false

# ===== 服务器配置 =====
# 服务器配置
SERVER_IP=36.153.25.22
DOMAIN_NAME=36.153.25.22  # 使用IP地址

# ===== 公网访问配置 =====
# 正式环境的公网IP和端口（用于二维码生成）
PUBLIC_HOST=36.153.25.22
PRODUCTION_PORT=3003

# ===== 数据库配置 =====
# 容器内部通信，无需修改
DATABASE_URL=postgresql://postgres:password@postgres:5432/modelvs3

# 生产环境数据库密码（必须修改）
POSTGRES_PASSWORD=ModelVS3_Secure_2024!

# ===== Redis 配置 =====
# 容器内部通信，无需修改
REDIS_URL=redis://redis:6379/0

# ===== LLM API 密钥 =====
OPENAI_API_KEY=sk-your-openai-api-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
GOOGLE_API_KEY=your-google-api-key

# ===== 安全配置 =====
JWT_SECRET_KEY=请生成JWT密钥
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS 配置（根据实际情况修改）
CORS_ORIGINS=http://36.153.25.22:3003,https://36.153.25.22:3003

# ===== 前端配置 =====
# API地址配置（生产环境通过nginx代理，使用空字符串）
VITE_API_URL=
# 备选方案：如果nginx代理不工作，使用直接访问
# VITE_API_URL=http://36.153.25.22:8000

# ===== 监控配置 =====
# Grafana管理员密码（必须修改）
GF_SECURITY_ADMIN_PASSWORD=您的Grafana密码

# Prometheus端口配置
PROMETHEUS_PORT=8090

# ===== 生产专用配置 =====
# 启用HTTPS（如果配置了SSL证书）
# SSL_CERT_PATH=/app/certs/cert.pem
# SSL_KEY_PATH=/app/certs/key.pem

# 限流配置
RATE_LIMIT_REQUESTS_PER_MINUTE=100
COST_LIMIT_USD_PER_MONTH=1000

# 日志配置
LOG_LEVEL=INFO
LOG_FORMAT=json

# ===== 部署说明 =====
# 1. 将此文件复制为 .env
# 2. 修改所有"您的服务器IP"为实际IP地址
# 3. 修改所有密码为强密码
# 4. 如果有域名，取消注释相关配置
# 5. 运行 docker-compose up -d 部署 